/*!
 *  @preserve
 * 
 * Readmore.js plugin
 * Author: @jed_foster
 * Project home: jedfoster.com/Readmore.js
 * Version: 3.0.0-beta-1
 * Licensed under the MIT license
 * 
 * Debounce function from davidwalsh.name/javascript-debounce-function
*/ 
function bricksableReadMore(){bricksQuerySelectorAll(document,".brxe-ba-read-more").forEach(function(e){var t,o=e.dataset.scriptId;try{t=JSON.parse(e.dataset.baBricksReadMoreOptions)}catch(r){return!1}var n=""!==t.readMoreIcon?'<span class="ba-read-more-icon icon"><i class="'+t.readMoreIcon+'"></i></span>':"",a=""!==t.lessIcon?'<span class="ba-read-more-less-icon icon"><i class="'+t.lessIcon+'"></i></span>':"",i={speed:t.speed,collapsedHeight:t.collapsedHeight,heightMargin:t.heightMargin,moreLink:'<button class="ba-read-more-button" href="#" aria-label="'+t.moreLink+'">'+t.moreLink+n+"</button>",lessLink:'<button class="ba-read-more-button" href="#"  aria-label="'+t.lessText+'">'+t.lessText+a+"</button>",embedCSS:!1,startOpen:t.startOpen,sourceOrder:"after"},s=e.querySelector(".ba-read-more-wrapper");s&&(window.bricksableReadMoreData.ReadMoreInstances[o]&&window.bricksableReadMoreData.ReadMoreInstances[o].destroy()||(window.bricksableReadMoreData.ReadMoreInstances[o]=new Readmore(s,i)))})}!function e(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("Readmore",[],o):"object"==typeof exports?exports.Readmore=o():t.Readmore=o()}(window,function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,(function(t){return e[t]}).bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}({"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function e(t,o){if(!(t instanceof o))throw TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function o(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function e(t,r,n){return r&&o(t.prototype,r),n&&o(t,n),t}},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?e.exports=r=function e(t){return o(t)}:e.exports=r=function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},r(t)}e.exports=r},"./src/readmore.js":function(e,t,o){"use strict";o.r(t);var r=o(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"),n=o.n(r),a=o(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"),i=o.n(a),s=o(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js"),l=o.n(s),c=0,d=[];function u(e,t,o){for(var r=0;r<e.length;r+=1)t.call(o,e[r],r)}function f(){return c+=1,"rmjs-".concat(c)}function p(e){e.style.height="auto";var t=parseInt(e.getBoundingClientRect().height,10),o=parseInt(window.getComputedStyle(e).maxHeight,10),r=parseInt(e.readmore.defaultHeight,10);e.readmore.expandedHeight=t,e.readmore.maxHeight=o,e.readmore.collapsedHeight=o||e.readmore.collapsedHeight||r,e.style.maxHeight="none"}function h(e,t){if(!d[e]){var o,r,n,a="";t.embedCSS&&""!==t.blockCSS&&(a+="".concat(e," + [data-readmore-toggle], ").concat(e,"[data-readmore] {\n        ").concat(t.blockCSS,"\n      }")),a+="".concat(e,"[data-readmore] {\n      transition: height ").concat(t.speed,"ms;\n      overflow: hidden;\n    }"),o=document,r=a,(n=o.createElement("style")).type="text/css",n.styleSheet?n.styleSheet.cssText=r:n.appendChild(o.createTextNode(r)),o.getElementsByTagName("head")[0].appendChild(n),d[e]=!0}}function g(e,t,o){var r,n,a=e;"function"==typeof e&&(a=e(t));var i=(r=a,(n=document.createElement("div")).innerHTML=r,n.firstChild);return i.setAttribute("data-readmore-toggle",t.id),i.setAttribute("aria-controls",t.id),i.addEventListener("click",(function e(o){this.toggle(t,o)}).bind(o)),i}!function e(t){t.forEach(function(e){!Object.prototype.hasOwnProperty.call(e,"remove")&&Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function e(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]);var m,b,y,v=(m=function(){u(document.querySelectorAll("[data-readmore]"),function(e){var t="true"===e.getAttribute("aria-expanded");p(e),e.style.height="".concat(t?e.readmore.expandedHeight:e.readmore.collapsedHeight,"px")})},function e(){for(var t=this,o=arguments.length,r=Array(o),n=0;n<o;n++)r[n]=arguments[n];var a=b&&!y,i=function e(){y=null,b||m.apply(t,r)};clearTimeout(y),y=setTimeout(i,100),a&&m.apply(this,r)}),$={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,sourceOrder:"after",blockProcessed:function e(){},beforeToggle:function e(){},afterToggle:function e(){}},x=function(){function e(){var t,o=this;if(n()(this,e),"undefined"!=typeof window&&"undefined"!=typeof document&&document.querySelectorAll&&window.addEventListener){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a[0],c=a[1];(t="string"==typeof s?document.querySelectorAll(s):s.nodeName?[s]:s).length&&(this.options=function e(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var n={}.hasOwnProperty,a=o[0],i=o[1];if(o.length>2){var s=[];for(Object.keys(o).forEach(function(e){s.push(o[e])});s.length>2;){var c=s.shift(),d=s.shift();s.unshift(e(c,d))}a=s.shift(),i=s.shift()}return i&&Object.keys(i).forEach(function(t){n.call(i,t)&&("object"===l()(i[t])?(a[t]=a[t]||{},a[t]=e(a[t],i[t])):a[t]=i[t])}),a}({},$,c),"string"==typeof s?h(s,this.options):(this.instanceSelector=".".concat(f()),h(this.instanceSelector,this.options)),window.addEventListener("load",v),window.addEventListener("resize",v),this.elements=[],u(t,function(e){o.instanceSelector&&e.classList.add(o.instanceSelector.substr(1));var t=o.options.startOpen;e.readmore={defaultHeight:o.options.collapsedHeight,heightMargin:o.options.heightMargin},p(e);var r=e.readmore.heightMargin;if(e.getBoundingClientRect().height<=e.readmore.collapsedHeight+r){"function"==typeof o.options.blockProcessed&&o.options.blockProcessed(e,!1);return}e.setAttribute("data-readmore",""),e.setAttribute("aria-expanded",t),e.id=e.id||f();var n=g(t?o.options.lessLink:o.options.moreLink,e,o);e.parentNode.insertBefore(n,"before"===o.options.sourceOrder?e:e.nextSibling),e.style.height="".concat(t?e.readmore.expandedHeight:e.readmore.collapsedHeight,"px"),"function"==typeof o.options.blockProcessed&&o.options.blockProcessed(e,!0),o.elements.push(e)}))}}return i()(e,[{key:"toggle",value:function e(){var t=this,o=arguments.length<=0?void 0:arguments[0],r=function e(o){var r=document.querySelector('[aria-controls="'.concat(o.id,'"]')),n=o.getBoundingClientRect().height<=o.readmore.collapsedHeight,a=n?o.readmore.expandedHeight:o.readmore.collapsedHeight;if("function"!=typeof t.options.beforeToggle||!1!==t.options.beforeToggle(r,o,!n)){o.style.height="".concat(a,"px");var i=function e(a){"function"==typeof t.options.afterToggle&&t.options.afterToggle(r,o,n),a.stopPropagation(),o.setAttribute("aria-expanded",n),o.removeEventListener("transitionend",e,!1)};o.addEventListener("transitionend",i,!1),t.options.speed<1&&i.call(t,{target:o});var s=n?t.options.lessLink:t.options.moreLink;s?r&&r.parentNode&&r.parentNode.replaceChild(g(s,o,t),r):r.remove()}};if("string"==typeof o&&(o=document.querySelectorAll(o)),!o)throw Error("Element MUST be either an HTML node or querySelector string");var n=arguments.length<=1?void 0:arguments[1];n&&(n.preventDefault(),n.stopPropagation()),"object"!==l()(o)||o.nodeName?r(o):u(o,r)}},{key:"destroy",value:function e(t){var o,r=this;u(o=t?"string"==typeof t?document.querySelectorAll(t):t.nodeName?[t]:t:this.elements,function(e){if(-1!==r.elements.indexOf(e)){r.elements=r.elements.filter(function(t){return t!==e}),r.instanceSelector&&e.classList.remove(r.instanceSelector.substr(1)),delete e.readmore,e.style.height="initial",e.style.maxHeight="initial",e.removeAttribute("data-readmore"),e.removeAttribute("aria-expanded");var t=document.querySelector('[aria-controls="'.concat(e.id,'"]'));t&&t.remove(),-1!==e.id.indexOf("rmjs-")&&e.removeAttribute("id")}}),delete this}}]),e}();x.VERSION="3.0.0-beta-1",t.default=x},0:function(e,t,o){e.exports=o(/*! ./src/readmore.js */ "./src/readmore.js")}}).default}),document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&bricksableReadMore()});